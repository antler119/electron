<mxfile host="65bd71144e" modified="2021-02-07T06:39:29.632Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.52.1 Chrome/83.0.4103.122 Electron/9.3.5 Safari/537.36" version="13.10.0" etag="bq1jmMnEzRgmbOD5btE7" type="embed">
    <diagram id="FJJEzdKPHFxWWg1clmh_" name="Page-1">
        <mxGraphModel dx="1095" dy="789" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="2" value="&lt;div style=&quot;color: rgb(248 , 248 , 242) ; background-color: rgb(39 , 40 , 34) ; font-family: &amp;quot;consolas&amp;quot; , &amp;quot;courier new&amp;quot; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;PendingReceiver&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;Interface&lt;/span&gt;&amp;gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;BindNewPipeAndPassReceiver&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;scoped_refptr&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;base&lt;/span&gt;::&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;SequencedTaskRunner&lt;/span&gt;&amp;gt;&amp;nbsp;&lt;span style=&quot;color: #fd971f ; font-style: italic&quot;&gt;task_runner&lt;/span&gt;)&amp;nbsp;WARN_UNUSED_RESULT&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;MessagePipe&amp;nbsp;pipe;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;Bind&lt;/span&gt;(&lt;span style=&quot;color: #a6e22e&quot;&gt;PendingRemote&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;Interface&lt;/span&gt;&amp;gt;(&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;std&lt;/span&gt;::&lt;span style=&quot;color: #a6e22e&quot;&gt;move&lt;/span&gt;(pipe.handle0),&amp;nbsp;&lt;span style=&quot;color: #ae81ff&quot;&gt;0&lt;/span&gt;),&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;std&lt;/span&gt;::&lt;span style=&quot;color: #a6e22e&quot;&gt;move&lt;/span&gt;(task_runner));&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;PendingReceiver&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;Interface&lt;/span&gt;&amp;gt;(&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;std&lt;/span&gt;::&lt;span style=&quot;color: #a6e22e&quot;&gt;move&lt;/span&gt;(pipe.handle1));&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
                    <mxGeometry width="710" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="&lt;div style=&quot;color: rgb(248 , 248 , 242) ; background-color: rgb(39 , 40 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #66d9ef ; font-style: italic&quot;&gt;class&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;MessagePipe&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;span style=&quot;color: #66d9ef ; font-style: italic&quot;&gt;public:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;MessagePipe&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;explicit&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;MessagePipe&lt;/span&gt;(&lt;span style=&quot;color: #f92672&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;MojoCreateMessagePipeOptions&lt;/span&gt;&lt;span style=&quot;color: #f92672&quot;&gt;&amp;amp;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #fd971f ; font-style: italic&quot;&gt;options&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;~MessagePipe&lt;/span&gt;();&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;ScopedMessagePipeHandle&amp;nbsp;handle0;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;ScopedMessagePipeHandle&amp;nbsp;handle1;&lt;/div&gt;&lt;div&gt;};&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #f92672&quot;&gt;inline&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;MessagePipe&lt;/span&gt;::&lt;span style=&quot;color: #a6e22e&quot;&gt;MessagePipe&lt;/span&gt;()&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;MojoResult&amp;nbsp;result&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;CreateMessagePipe&lt;/span&gt;(&lt;span style=&quot;color: #ae81ff&quot;&gt;nullptr&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;&amp;amp;&lt;/span&gt;handle0,&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;&amp;amp;&lt;/span&gt;handle1);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;DCHECK_EQ&lt;/span&gt;(MOJO_RESULT_OK,&amp;nbsp;result);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;DCHECK&lt;/span&gt;(handle0.&lt;span style=&quot;color: #a6e22e&quot;&gt;is_valid&lt;/span&gt;());&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;DCHECK&lt;/span&gt;(handle1.&lt;span style=&quot;color: #a6e22e&quot;&gt;is_valid&lt;/span&gt;());&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #f92672&quot;&gt;inline&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;MojoResult&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;CreateMessagePipe&lt;/span&gt;(&lt;span style=&quot;color: #f92672&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;MojoCreateMessagePipeOptions&lt;/span&gt;&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #fd971f ; font-style: italic&quot;&gt;options&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;ScopedMessagePipeHandle&lt;/span&gt;&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #fd971f ; font-style: italic&quot;&gt;message_pipe0&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;ScopedMessagePipeHandle&lt;/span&gt;&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #fd971f ; font-style: italic&quot;&gt;message_pipe1&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;DCHECK&lt;/span&gt;(message_pipe0);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;DCHECK&lt;/span&gt;(message_pipe1);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;MessagePipeHandle&amp;nbsp;handle0;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;MessagePipeHandle&amp;nbsp;handle1;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;MojoResult&amp;nbsp;rv&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;MojoCreateMessagePipe&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;options,&amp;nbsp;handle0.&lt;span style=&quot;color: #a6e22e&quot;&gt;mutable_value&lt;/span&gt;(),&amp;nbsp;handle1.&lt;span style=&quot;color: #a6e22e&quot;&gt;mutable_value&lt;/span&gt;());&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #88846f&quot;&gt;&amp;nbsp;&amp;nbsp;//&amp;nbsp;Reset&amp;nbsp;even&amp;nbsp;on&amp;nbsp;failure&amp;nbsp;(reduces&amp;nbsp;the&amp;nbsp;chances&amp;nbsp;that&amp;nbsp;a&amp;nbsp;&quot;stale&quot;/incorrect&amp;nbsp;handle&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #88846f&quot;&gt;&amp;nbsp;&amp;nbsp;//&amp;nbsp;will&amp;nbsp;be&amp;nbsp;used).&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;message_pipe0-&amp;gt;&lt;span style=&quot;color: #a6e22e&quot;&gt;reset&lt;/span&gt;(handle0);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;message_pipe1-&amp;gt;&lt;span style=&quot;color: #a6e22e&quot;&gt;reset&lt;/span&gt;(handle1);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;return&lt;/span&gt;&amp;nbsp;rv;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
                    <mxGeometry y="190" width="710" height="680" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="&lt;div style=&quot;color: rgb(248 , 248 , 242) ; background-color: rgb(39 , 40 , 34) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;MojoResult&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;Core&lt;/span&gt;::&lt;span style=&quot;color: #a6e22e&quot;&gt;CreateMessagePipe&lt;/span&gt;(&lt;span style=&quot;color: #f92672&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;MojoCreateMessagePipeOptions&lt;/span&gt;&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #fd971f ; font-style: italic&quot;&gt;options&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;MojoHandle&lt;/span&gt;&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #fd971f ; font-style: italic&quot;&gt;message_pipe_handle0&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;MojoHandle&lt;/span&gt;&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #fd971f ; font-style: italic&quot;&gt;message_pipe_handle1&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;RequestContext&amp;nbsp;request_context;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;ports&lt;/span&gt;::PortRef&amp;nbsp;port0,&amp;nbsp;port1;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;GetNodeController&lt;/span&gt;()-&amp;gt;&lt;span style=&quot;color: #a6e22e&quot;&gt;node&lt;/span&gt;()-&amp;gt;&lt;span style=&quot;color: #a6e22e&quot;&gt;CreatePortPair&lt;/span&gt;(&lt;span style=&quot;color: #f92672&quot;&gt;&amp;amp;&lt;/span&gt;port0,&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;&amp;amp;&lt;/span&gt;port1);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;DCHECK&lt;/span&gt;(message_pipe_handle0);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;DCHECK&lt;/span&gt;(message_pipe_handle1);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #66d9ef ; font-style: italic&quot;&gt;uint64_t&lt;/span&gt;&amp;nbsp;pipe_id&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;base&lt;/span&gt;::&lt;span style=&quot;color: #a6e22e&quot;&gt;RandUint64&lt;/span&gt;();&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;message_pipe_handle0&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;AddDispatcher&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;new&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;MessagePipeDispatcher&lt;/span&gt;(&lt;span style=&quot;color: #a6e22e&quot;&gt;GetNodeController&lt;/span&gt;(),&amp;nbsp;port0,&amp;nbsp;pipe_id,&amp;nbsp;&lt;span style=&quot;color: #ae81ff&quot;&gt;0&lt;/span&gt;));&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;if&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;message_pipe_handle0&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;==&lt;/span&gt;&amp;nbsp;MOJO_HANDLE_INVALID)&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;return&lt;/span&gt;&amp;nbsp;MOJO_RESULT_RESOURCE_EXHAUSTED;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;message_pipe_handle1&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;AddDispatcher&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;new&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;MessagePipeDispatcher&lt;/span&gt;(&lt;span style=&quot;color: #a6e22e&quot;&gt;GetNodeController&lt;/span&gt;(),&amp;nbsp;port1,&amp;nbsp;pipe_id,&amp;nbsp;&lt;span style=&quot;color: #ae81ff&quot;&gt;1&lt;/span&gt;));&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;if&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;message_pipe_handle1&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;==&lt;/span&gt;&amp;nbsp;MOJO_HANDLE_INVALID)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;scoped_refptr&lt;span style=&quot;color: #f92672&quot;&gt;&amp;lt;&lt;/span&gt;Dispatcher&lt;span style=&quot;color: #f92672&quot;&gt;&amp;gt;&lt;/span&gt;&amp;nbsp;dispatcher0;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(166 , 226 , 46)&quot;&gt;base&lt;/span&gt;::AutoLock&amp;nbsp;&lt;span style=&quot;color: #a6e22e&quot;&gt;lock&lt;/span&gt;(handles_-&amp;gt;&lt;span style=&quot;color: #a6e22e&quot;&gt;GetLock&lt;/span&gt;());&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;handles_-&amp;gt;&lt;span style=&quot;color: #a6e22e&quot;&gt;GetAndRemoveDispatcher&lt;/span&gt;(&lt;span style=&quot;color: #f92672&quot;&gt;*&lt;/span&gt;message_pipe_handle0,&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;&amp;amp;&lt;/span&gt;dispatcher0);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dispatcher0-&amp;gt;&lt;span style=&quot;color: #a6e22e&quot;&gt;Close&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;return&lt;/span&gt;&amp;nbsp;MOJO_RESULT_RESOURCE_EXHAUSTED;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #f92672&quot;&gt;return&lt;/span&gt;&amp;nbsp;MOJO_RESULT_OK;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
                    <mxGeometry y="890" width="720" height="610" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>